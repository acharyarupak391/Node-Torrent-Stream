(this.webpackJsonpApp=this.webpackJsonpApp||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(10),r=a.n(c),o=(a(99),a(16)),l=(a(100),a(85)),s=a(40),d=a(58),u=a(77),j=a.n(u),b=a(78),m=a.n(b),p=(a(101),a(3)),v=Object(d.a)((function(){return{grid:{margin:"50px auto",padding:10},typoGrid:{display:"flex",alignItems:"flex-start",padding:5,borderRadius:2},ml10:{marginLeft:10},ml5:{marginLeft:5},listContainer:{margin:"10px 15px"},fileName:{wordBreak:"break-all"},fileSize:{color:"#7b7b7b"},listItem:{"&:hover":{background:"#fdf0f0",cursor:"pointer"},"&:active":{background:"#f9d5d5"}},title:{color:"blueviolet",background:"aliceblue",padding:3,marginBottom:5}}})),f=function(e){var t,a=e.files,i=e.setCurrentStep,c=v(),r=Object(n.useState)({}),d=Object(o.a)(r,2),u=d[0],b=d[1];Object(n.useEffect)((function(){a&&a!=={}&&b(function(e){var t,a={name:null===e||void 0===e?void 0:e.name,files:[]};return null===e||void 0===e||null===(t=e.files)||void 0===t||t.forEach((function(e){var t;a.files.push({name:e.name,size:(t=e.size,t<1048576?"".concat((t/1024).toFixed(2)," KB"):t<1073741824?"".concat((t/1024/1024).toFixed(2)," MB"):"".concat((t/1024/1024/1024).toFixed(2)," GB"))})})),a}(a))}),[a]);return Object(p.jsxs)(l.a,{xs:10,sm:8,lg:6,className:c.grid,children:[Object(p.jsx)(s.a,{className:c.title,children:"Choose a file to stream"}),Object(p.jsxs)(s.a,{variant:"h6",className:"".concat(c.typoGrid," textWrapper"),children:[Object(p.jsx)(j.a,{fontSize:"large"}),Object(p.jsx)("span",{className:"".concat(c.ml10," textWrap"),children:null===u||void 0===u?void 0:u.name})]}),Object(p.jsx)(l.a,{className:c.listContainer,children:null===u||void 0===u||null===(t=u.files)||void 0===t?void 0:t.map((function(e,t){return function(e){var t=e.split("."),a=t[t.length-1];return!!["avi","flv","mkv","mov","mp4","webm","wmv"].includes(a.toLowerCase())}(e.name)&&Object(p.jsxs)(s.a,{variant:"subtitle2",className:"".concat(c.typoGrid," ").concat(c.listItem," textWrapper"),onClick:function(){return function(e,t){i(2,{index:e,data:t})}(t,e)},children:[Object(p.jsx)(m.a,{}),Object(p.jsx)("span",{className:"".concat(c.ml5," ").concat(c.fileName),children:e.name}),Object(p.jsxs)("span",{className:"".concat(c.ml10," ").concat(c.fileSize),children:["[",e.size,"]"]})]})}))})]})},x=a(79),O=Object(d.a)((function(){return{torrent:{color:"#ca0000"},headerBack:{background:"whitesmoke","&:hover":{cursor:"pointer"}}}})),h=function(e){var t=e.setCurrentStep,a=O();return Object(p.jsx)(l.a,{children:Object(p.jsxs)(s.a,{variant:"h2",className:a.headerBack,onClick:function(){t(0)},children:[Object(p.jsx)("span",{className:a.torrent,children:"Torrent"}),Object(p.jsx)("span",{className:a.stream,children:"Stream"})]})})},g=a(82);var N=function(){var e=Object(n.useState)(0),t=Object(o.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)({}),r=Object(o.a)(c,2),l=r[0],s=r[1],d=Object(n.useState)({}),u=Object(o.a)(d,2),j=u[0],b=u[1],m=function(e,t){i(e),1===e?s(t):2===e&&b(t)};return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(h,{setCurrentStep:m}),0===a&&Object(p.jsx)(x.a,{setCurrentStep:m}),1===a&&Object(p.jsx)(f,{files:l,setCurrentStep:m}),2===a&&Object(p.jsx)(g.a,{video:j})]})},S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,171)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),c(e),r(e)}))};r.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root")),S()},55:function(e,t,a){"use strict";var n=a(40),i=a(58),c=(a(0),a(3)),r=Object(i.a)((function(){return{container:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"15px auto"},line:{flex:"1",height:1,background:"grey"},text:{fontSize:15,margin:"auto 5px",lineHeight:1.5}}}));t.a=function(e){var t=e.text,a=r();return Object(c.jsxs)("div",{className:a.container,children:[Object(c.jsx)("div",{className:a.line}),t&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(n.a,{variant:"caption",color:"textSecondary",className:a.text,children:t}),Object(c.jsx)("div",{className:a.line})]})]})}},79:function(e,t,a){"use strict";(function(e){var n=a(57),i=a(54),c=a.n(i),r=a(80),o=a(16),l=a(128),s=a(85),d=a(132),u=a(129),j=a(86),b=a(59),m=a(40),p=a(130),v=a(135),f=a(58),x=a(0),O=a(55),h=a(56),g=a.n(h),N=a(81),S=a.n(N),C=a(134),k=a(3),y=Object(f.a)((function(){return{grid:{margin:"50px auto",padding:10},dividerText:{position:"relative","&:before":{}},border2:{borderRadius:2},fileUploadContainer:{display:"flex",justifyContent:"space-evenly",alignItems:"center",flexWrap:"wrap"},fileName:{position:"relative",fontSize:14,maxWidth:300,wordBreak:"break-all",maxHeight:75,color:"#4f4848",marginTop:10,padding:5,border:"1px solid grey",borderRadius:2,background:"#ececec"},clearBtn:{position:"absolute",top:-10,right:-10,height:20,width:20,border:"1px solid"},submitBtn:{margin:"15px auto",height:36},clearText:{marginBottom:10},loader:{animationDuration:"750ms",marginRight:10,color:"darkslateblue"},snack:{top:75},alert:{width:"100%",minWidth:250,background:"#f44336",color:"white","&>*>svg":{color:"white"}}}}));t.a=function(t){var a,i=y(),f=Object(x.useState)(""),h=Object(o.a)(f,2),N=h[0],w=h[1],T=Object(x.useState)(null),E=Object(o.a)(T,2),_=E[0],z=E[1],B=Object(x.useState)(!1),D=Object(o.a)(B,2),I=D[0],R=D[1],F=Object(x.useState)(null),W=Object(o.a)(F,2),L=W[0],P=W[1],H=Object(x.useRef)(),A=function(e){e.preventDefault(),G()},G=function(){var a=Object(r.a)(c.a.mark((function a(){var n,i,r,o,l,s,d,u,j;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return R(!0),r=new FormData,N?r.append("magnet",N):_&&r.append("file",_),{magnet:N},l="development"===(null===(n=e)||void 0===n||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===i?void 0:i.NODE_ENV)?"http://localhost:3000/torrent":"/torrent",a.prev=5,a.next=8,S.a.post(l,r,{headers:{"Content-Type":"application/json"}});case 8:o=a.sent,t.setCurrentStep(1,null===(s=o)||void 0===s||null===(d=s.data)||void 0===d?void 0:d.data),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(5),P({open:!0,message:null===a.t0||void 0===a.t0||null===(u=a.t0.response)||void 0===u||null===(j=u.data)||void 0===j?void 0:j.error});case 15:R(!1);case 16:case"end":return a.stop()}}),a,null,[[5,12]])})));return function(){return a.apply(this,arguments)}}();return Object(k.jsxs)(s.a,{xs:10,sm:8,lg:6,className:i.grid,children:[Object(k.jsxs)("form",{onSubmit:A,children:[Object(k.jsx)(d.a,{variant:"filled",label:"Magnet or Hash",onChange:function(e){w(e.target.value)},className:i.border2,fullWidth:!0,value:N,disabled:_,InputProps:{endAdornment:N&&Object(k.jsx)(u.a,{children:Object(k.jsx)(j.a,{className:i.clearText,size:"small",onClick:function(){w("")},children:Object(k.jsx)(g.a,{size:"small"})})})}}),Object(k.jsx)(O.a,{text:"or"}),Object(k.jsxs)("div",{className:i.fileUploadContainer,children:[Object(k.jsxs)(b.a,{variant:"outlined",component:"label",className:i.border2,disabled:N,children:["Upload .torrent File",Object(k.jsx)("input",{type:"file",accept:".torrent",onChange:function(e){z(e.target.files[0])},hidden:!0,ref:H})]}),_&&Object(k.jsxs)(m.a,{className:i.fileName,children:[_.name," ",Object(k.jsx)(j.a,{size:"small",className:i.clearBtn,onClick:function(){z(null),H.current.value=""},children:Object(k.jsx)(g.a,{fontSize:"small"})})]})]}),Object(k.jsx)("br",{}),Object(k.jsx)(O.a,{}),Object(k.jsxs)(b.a,{variant:"contained",color:"primary",className:"".concat(i.border2," ").concat(i.submitBtn),disabled:!_&&!N||I,onClick:A,children:[I&&Object(k.jsx)(p.a,{className:i.loader,thickness:4.5,size:20})," ","Start Streaming"]})]}),Object(k.jsx)(v.a,{open:null===L||void 0===L?void 0:L.open,onClose:function(e,t){"clickaway"!==t&&P(null)},anchorOrigin:{vertical:"top",horizontal:"right"},TransitionComponent:function(e){return Object(k.jsx)(l.a,Object(n.a)(Object(n.a)({},e),{},{direction:"left"}))},autoHideDuration:2500,className:i.snack,children:Object(k.jsx)(C.a,{severity:"error",className:i.alert,children:null!==(a=null===L||void 0===L?void 0:L.message)&&void 0!==a?a:"Some error occured!"})})]})}}).call(this,a(52))},82:function(e,t,a){"use strict";(function(e){var n=a(16),i=a(0),c=a.n(i),r=a(85),o=a(40),l=a(59),s=a(58),d=a(131),u=a(83),j=a.n(u),b=a(3),m=Object(s.a)((function(){return{grid:{margin:"50px auto",padding:"15px 10px",background:"#8b000036",borderRadius:2},playIcon:{marginRight:10},typoGrid:{display:"flex",alignItems:"center",margin:"15px 2.5%",flexWrap:"wrap"},ml10:{marginLeft:10},ml30:{marginLeft:30},fileName:{wordBreak:"break-all"},fileSize:{color:"#7b7b7b"},btn:{marginLeft:"auto",marginTop:5}}}));t.a=function(t){var a,i,s,u,p=t.video,v=m(),f=c.a.useState(p&&("development"===(null===(a=e)||void 0===a||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===i?void 0:i.NODE_ENV)?"http://localhost:3000/stream?index=".concat(null===p||void 0===p?void 0:p.index):"/stream?index=".concat(null===p||void 0===p?void 0:p.index))),x=Object(n.a)(f,1)[0];var O=function(e){!function(e,t){var a=document.createElement("a");a.href=e,a.setAttribute("download",t),a.click()}(x,e)};return Object(b.jsxs)(r.a,{xs:10,sm:8,lg:6,className:v.grid,children:[NaN!==parseInt(null===p||void 0===p?void 0:p.index)&&Object(b.jsx)("video",{id:"videoPlayer",controls:!0,style:{width:"95%"},children:Object(b.jsx)("source",{src:x,type:"video/mp4"})}),Object(b.jsxs)(o.a,{className:v.typoGrid,children:[Object(b.jsx)(d.a,{size:"small",className:v.playIcon}),Object(b.jsx)("span",{children:"Now Playing:"})]}),Object(b.jsxs)(o.a,{variant:"body2",className:"".concat(v.ml30," ").concat(v.typoGrid),children:[Object(b.jsx)("span",{className:"".concat(v.fileName),children:null===p||void 0===p||null===(s=p.data)||void 0===s?void 0:s.name}),Object(b.jsxs)("span",{className:"".concat(v.ml10," ").concat(v.fileSize),children:["[",null===p||void 0===p||null===(u=p.data)||void 0===u?void 0:u.size,"]"]}),Object(b.jsx)(l.a,{className:v.btn,size:"small",startIcon:Object(b.jsx)(j.a,{}),variant:"outlined",onClick:function(){var e;return O(null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.name)},children:"Download"})]})]})}}).call(this,a(52))},99:function(e,t,a){}},[[127,1,2]]]);
//# sourceMappingURL=main.fb5d5e67.chunk.js.map